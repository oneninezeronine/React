<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <img src="https://ss0.baidu.com/73x1bjeh1BF3odCf/it/u=2053665964,1437949699&fm=85&s=1DB6E517454346EA5C4D2CE403007022" />
    <script>
        // 协议 域名 端口
        window.onerror = (msg, url, line) => {
            console.log(msg, url, line)
            // 不用ajax，用图片发请求，ajax是可以获取响应头和响应体，只发却没结果
            // 如果用ajax，出现跨域
            // 默认发送一段get请求，跨域的
            // form type="get" action="xxx"
            // iframe
            // a
            // video audio
            // link href  只发，但是不需要结果
            // script src jsonp 除了script是最完美的跨域之外
            let img = new Image()
            img.src = `http://localhost:3000/error?msg=${msg}&url=${url}&line=${line}`
            img.alt = '出现错误'
            img.style.display = 'none'
            document.body.appendChild(img)
        }
        var a = b
    </script>
</body>

</html>